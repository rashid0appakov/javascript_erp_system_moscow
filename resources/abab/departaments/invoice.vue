<template>
    <v-card>
        <v-toolbar dense color="primary">
            <v-toolbar-title>Счет</v-toolbar-title>
        </v-toolbar>
        <v-card-text>
            <vue-html2pdf
                :show-layout="false"
                :enable-download="true"
                :preview-modal="false"
                :paginate-elements-by-height="5000"
                pdf-format="a4"
                pdf-orientation="portrait"
                pdf-content-width="790px"
                filename="kp"
                :manual-pagination="false"
                @hasStartedGeneration="hasStartedGeneration()"
                @hasGenerated="hasGenerated($event)"
                ref="html2Pdf"
            >
                <section slot="pdf-content">
                    <div class="pdf-item">
                            <table width="100%" style="font-family: Arial;">
                                <tr >
                                    <td style="width: 68%; padding: 20px 0;">
                                        <div style="text-align: justify; font-size: 11pt;">Внимание! Оплата данного счета означает согласие с условиями поставки товара. Счет действителен в течение 5(пяти) банковских дней, не считая дня выписки счета. Уведомление об оплате  обязательно, в противном случае НЕ ГАРАНТИРУЕТСЯ наличие товара на складе. Товар отпускается по факту прихода денег на р/с Поставщика, самовывозом, при наличии доверенности и паспорта.</div>
                                    </td>
                                    <td style="width: 32%; text-align: center; padding: 30px 0;"><img src="/img/pdf/logo.png" style="width: 70%;"></td>
                                </tr>
                                
                            </table>
                            <table width="100%" border="2" style="border-collapse: collapse; width: 100%; font-family: Arial;" cellpadding="2" cellspacing="2">
                                <tr style="">
                                    <td colspan="2" rowspan="2" style="min-height:13mm; width: 105mm;">
                                        <table width="100%" border="0" cellpadding="0" cellspacing="0" style="height: 13mm;">
                                            <tr>
                                                <td valign="top">
                                                    <div>СТ-ПЕТЕРБУРГСКИЙ филиал ПАО "ПРОМСВЯЗЬБАНК"<br>Г.</div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td valign="bottom" style="height: 3mm;">
                                                    <div style="font-size:10pt;">Банк получателя</div>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td style="min-height:7mm;height:auto; width: 25mm;">
                                        <div>БИK</div>
                                    </td>
                                    <td rowspan="2" style="vertical-align: top; width: 60mm;">
                                        <div style=" height: 7mm; line-height: 7mm; vertical-align: middle;">044030555</div>
                                        <div>30101810000000000555</div>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 25mm;">
                                        <div>Сч. №</div>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="min-height:6mm; height:auto; width: 50mm;">
                                        <div>ИНН </div>
                                    </td>
                                    <td style="min-height:6mm; height:auto; width: 55mm;">
                                        <div>КПП </div>
                                    </td>
                                    <td rowspan="2" style="min-height:19mm; height:auto; vertical-align: top; width: 25mm;">
                                        <div>Сч. №</div>
                                    </td>
                                    <td rowspan="2" style="min-height:19mm; height:auto; vertical-align: top; width: 60mm;">
                                        <div>40702810306000008712</div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2" style="min-height:13mm; height:auto;">

                                        <table border="0" cellpadding="0" cellspacing="0" style="height: 13mm; width: 105mm;">
                                            <tr>
                                                <td valign="top">
                                                    <div>ООО ""</div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td valign="bottom" style="height: 3mm;">
                                                    <div style="font-size: 10pt;">Получатель</div>
                                                </td>
                                            </tr>
                                        </table>

                                    </td>
                                </tr>
                            </table>
                            <div style="font-weight: bold; font-size: 25pt; padding-left:5px; font-family: Arial;">Счет № 0 от ____________</div>
                            <br/>
                            <div style="background-color:#000000; width:100%; font-size:1px; height:2px;">&nbsp;</div>
                            <table width="100%" style="font-family: Arial;">
                                <tr>
                                    <td style="width: 30mm; vertical-align: top;">
                                        <div style=" padding-left:2px; ">Поставщик:    </div>
                                    </td>
                                    <td>
                                        <div style="font-weight:bold;  padding-left:2px;">
                                            ООО "" ИНН , КПП ,<br>
                                            <span style="font-weight: normal;">, Российская Федерация, г. , Невский пр-кт, д. лит. ,<br> пом. , тел.: +7() , факс: +7()  </span>          </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 30mm; vertical-align: top;">
                                        <div style=" padding-left:2px;">Покупатель:</div>
                                    </td>
                                    <td>
                                        <div style="font-weight:bold;  padding-left:2px;">
                                        ИП , ИНН 7564644646, КПП 45465446456,<br><span style="font-weight: normal;">213245, Российская Федерация, г. ,  пр-кт, д.151 лит. А,<br> пом. , тел.: +7() , факс: +7()  </span>            </div>
                                    </td>
                                </tr>
                            </table>
                            <table border="2" width="100%" cellpadding="2" cellspacing="2" style="border-collapse: collapse; width: 100%; font-family: Arial;">
                                <thead>
                                <tr>
                                    <th style="width:13mm; ">№</th>
                                    <th>Товары (работы, услуги)</th>
                                    <th style="width:20mm; ">Кол-во</th>
                                    <th style="width:17mm; ">Ед.</th>
                                    <th style="width:27mm;  ">Цена</th>
                                    <th style="width:27mm;  ">Сумма</th>
                                </tr>
                                </thead>
                                <tbody >
                                <tr>
                                    <td style="width:13mm; ">№</td>
                                    <td>Товар</td>
                                    <td style="width:20mm; ">Кол-во</td>
                                    <td style="width:17mm; ">Шт.</td>
                                    <td style="width:27mm; text-align: center; ">Цена</td>
                                    <td style="width:27mm; text-align: center; ">Сумма</td>
                                </tr>
                                </tbody>
                            </table>

                            <table style="font-family: Arial;" border="0" width="100%" cellpadding="1" cellspacing="1">
                                <tr>
                                    <td></td>
                                    <td style="width:27mm; font-weight:bold;  text-align:right;">Итого:</td>
                                    <td style="width:27mm; font-weight:bold;  text-align: center; ">0.00</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="width:27mm; font-weight:bold;  text-align:right;">Итого НДС:</td>
                                    <td style="width:27mm; font-weight:bold;  text-align: center; ">0.00</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="width:37mm; font-weight:bold;  text-align:right;">Всего к оплате:</td>
                                    <td style="width:27mm; font-weight:bold;  text-align: center; ">0.00</td>
                                </tr>
                            </table>
                            <br />
                            <div style="font-family: Arial;">
                                Всего наименований 0 на сумму 0.00 рублей.<br />
                                Ноль рублей 00 копеек
                            </div>
                            <br /><br />
                            <div style="background-color:#000000; width:100%; font-size:1px; height:2px;">&nbsp;</div>
                            <br/>
                            <div style="font-family: Arial; font-size: 10pt;">
                                1. Счет действителен в течении 5 (пяти) банковских дней, не считая дня выписки счета. В случае нарушения срока оплаты сохранение цены на товар и наличие товара на складе НЕ ГАРАНТИРУЕТСЯ.<br />
                                2. Оплата данного счета означает согласие с условиями изложенными в п.1
                            </div>
                            <br /><br />
                            <div style="background: url('<!--url печати в png сюда-->');  background-repeat: no-repeat; padding: 30px 10px; width: 400px; height: 250px;">
                            <div>Руководитель ______________________ </div>
                            <br/>  <br /><br />
                            <div>Главный бухгалтер ______________________</div>
                            <br/>
                            <div style="width: 85mm;text-align:center;">М.П.</div>
                            <br/>
                            </div>
                            <br/> <br /><br /><br/>  <br /><br /><br/>  <br /><br />
                    </div>
                </section>
            </vue-html2pdf>
        </v-card-text>
        <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn small class="warning mr-2" @click="close">Отмена</v-btn>
            <v-btn small class="primary" @click="generatePdf">Выставить</v-btn>
        </v-card-actions>
    </v-card>
</template>
<script>
import VueHtml2pdf from 'vue-html2pdf'
export default {
    components: { VueHtml2pdf },
    props: ['lead'],
    data(){
        return {
            model: {},
            radios: false,
            positionModel: {},
            serviceModel: {},
            services: [],
            positions: []
        }
    },
    methods: {
        hasStartedGeneration(){
            this.$store.dispatch('load')
        },
        hasGenerated(){
            this.$store.dispatch('unload')
        },
        close(){
            this.$emit('close')
        },
        addService(){
            this.services.push(this.serviceModel)
            this.serviceModel = {}
        },
        addPosition(){
            this.positions.push(this.positionModel)
            this.positionModel = {}
        },
        generatePdf() {
            this.$refs.html2Pdf.generatePdf()
        }
    }
}
</script>
<style lang="scss">
    .pdf-item{
        font-family: Roboto, sans-serif;
        width: 100%;
        margin: 25px auto;
        font-size: 0.9em;
        .big{ font-size: 1.3em; }
        .small{ font-size: 0.75em; }
        .very-big{ font-size: 2em; }
        .bold{ font-weight: bold;}
        .black{ color: black;}
        .white{ color: white;}
        .blue{color: #0076a9!important;}
        img{
            display: inline-block;
            max-width: 100%;
            height: auto;
        }
        .logo{
            padding: 0 15px;
            div{
                background: #dedede;
            }
        }
        .divider{
            height: 1px;
            background-color: #999;
            width: 100%;
            margin: 15px 0;
            &.white{
                background-color: #fff;
            }
        }
        .with-bg{
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
        }
        table{
            width: 100%;
            td{
                border: 0;
                padding: 5px;
                vertical-align: top;
                text-align: left;
                &.middle{
                    vertical-align: middle;
                }
                label{
                    display: block;
                    font-weight: bold;
                    margin-bottom: 5px;
                    color: #333;
                }
                div{
                    padding: 10px;
                    background: #eaf3f4;
                    color: #666;
                }
            }
        }
    }
</style>